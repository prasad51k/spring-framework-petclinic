## Docker setup
sudo yum update -y
sudo yum install docker -y
sudo usermod -a -G docker ec2-user
sudo systemctl start docker
sudo systemctl enable docker

## install go
sudo yum install go -y

## setup K8s with kind
navigate to kind url: https://kind.sigs.k8s.io/
go install sigs.k8s.io/kind@v<latest>

## setup go env
check for go installation path and append it to bashrc
echo $PATH should give output like this:
/home/ec2-user/.local/bin:/home/ec2-user/bin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/home/ec2-user/go/bin

## create cluster with kind
kind create cluster
kind delete cluster
Navigate to https://github.com/kubernetes-sigs/kind/releases to get image details
example: creating cluster with a particular version as 1.29.8
kind create cluster --image kindest/node:v1.29.8@sha256:d46b7aa29567e93b27f7531d258c372e829d7224b25e3fc6ffdefed12476d3aa --name k8s-cluster-v1.29.8

## setup kubectl
Navigate to https://kubernetes.io/docs/tasks/tools/install-kubectl-linux/ 
Follow instructions for linux

## Interact with clusters
kubectl get nodes
kubectl cluster-info --context k8s-cluster-v1.29.8

## Create cluster with control-plane and worker nodes
Advanced
Configuring Your kind Cluster
For a sample kind configuration file see kind-example-config. To specify a configuration file when creating a cluster, use the --config flag:

kind create cluster --name k8s-cluster --config config.yaml
Multi-node clusters
In particular, many users may be interested in multi-node clusters. A simple configuration for this can be achieved with the following config file contents:

# 6 node (3 workers) cluster config for HA
kind: Cluster
apiVersion: kind.x-k8s.io/v1alpha4
nodes:
- role: control-plane
- role: control-plane
- role: control-plane
- role: worker-node1
- role: worker-node2
- role: worker

## Switch between clusters
kubectl config get-contexts
kubectl config use-context <name-of-your-cluster>
